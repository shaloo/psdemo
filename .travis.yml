language: python
os: osx

python:
  - "3.6"

matrix:
  include:
    - os: osx
    - language: generic
    - env: TOXENV=py36

# osx deps

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew list python &>/dev/null || brew install python; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew list python3 &>/dev/null || brew install python3; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install pyenv-virtualenv; fi
 

install:
  - pip install -r requirements.txt # install the required packages

script:
  - make html
  # Let GitHub know not to use jekyll to compile the docs
  - touch _build/html/.nojekyll

# Ask Travis CI to copy the documentation to the gh-pages branch of your GitHub repository

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $token # defined via the Travis interface
  keep-history: true
  on: 
     branch: master
  local_dir: _build/html/
